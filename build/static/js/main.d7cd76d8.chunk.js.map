{"version":3,"sources":["firebase.js","StateProvider.js","Components/Header.js","Components/Product.js","Components/Home.js","Components/CheckoutProduct.js","reducer.js","Components/Subtotal.js","Components/Checkout.js","Components/Login.js","Components/axios.js","Components/Payment.js","Components/Orders.js","App.js","serviceWorker.js","index.js","amazon-logo.png"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Header","basket","user","className","to","src","logo","alt","type","onClick","signOut","email","length","Product","id","title","price","rating","image","dispatch","Array","fill","map","_","i","item","Home","CheckoutProduct","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","log","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.d7cd76d8.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCxdve-8R2JewfnsG0EpSnLS9rmWloaP3M\",\n    authDomain: \"amazing-react-app.firebaseapp.com\",\n    databaseURL: \"https://amazing-react-app.firebaseio.com\",\n    projectId: \"amazing-react-app\",\n    storageBucket: \"amazing-react-app.appspot.com\",\n    messagingSenderId: \"926138698087\",\n    appId: \"1:926138698087:web:5433298168fe53c45387c2\"\n  };\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth }","import React, { createContext, useContext, useReducer } from 'react'\n\n// Prepeares the dataLayer\nexport const StateContext = createContext();\n\n\n// Wrap our app and provide the Data Layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n)\n\n// Pull information from the Data Layer\nexport const useStateValue = () => useContext(StateContext);\n","import React from 'react'\nimport './Header.scss'\nimport logo from '../amazon-logo.png'\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport { Link } from 'react-router-dom';\nimport { useStateValue } from '../StateProvider';\nimport { auth } from '../firebase';\n\nfunction Header() {\n    const [{ basket, user }, dispatch] = useStateValue();\n\n    const handleAuthentication = () => {\n        if (user) {\n            auth.signOut();\n        }\n    }\n\n    return (\n        <div className='header'>\n            <Link to='/'>\n                <img className='header__logo' src={logo} alt=\"\" />\n            </Link>\n            <div className=\"header__search\">\n                <input type=\"text\" className=\"header__searchInput\" />\n                <SearchIcon className=\"header__searchIcon\" />\n            </div>\n            <div className=\"header__nav\">\n                <Link to={!user && \"/login\"}>\n                    <div onClick={handleAuthentication} className=\"header__option\">\n                        <span className=\"header__optionLineOne\">Hello {!user ? 'Guest' : user?.email}</span>\n                        <span className=\"header__optionLineTwo\">{user ?\n                            'Sign Out' : 'Sign In'}</span>\n                    </div>\n                </Link>\n\n                <div className=\"header__option\">\n                    <span className=\"header__optionLineOne\">Returns</span>\n                    <span className=\"header__optionLineTwo\">& Orders</span>\n                </div>\n                <div className=\"header__option\">\n                    <span className=\"header__optionLineOne\">Your</span>\n                    <span className=\"header__optionLineTwo\">Prime</span>\n                </div>\n                <Link to=\"/checkout\">\n                    <div className=\"header__optionBasket\">\n                        <ShoppingBasketIcon />\n                        <span className=\"header__optionLineTwo header__basketCount\">{basket?.length}</span>\n                    </div>\n                </Link>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport \"./Product.scss\";\nimport StarRateIcon from '@material-ui/icons/StarRate';\nimport { useStateValue } from '../StateProvider';\n\nfunction Product({ id, title, price, rating, image }) {\n    const [{ basket }, dispatch] = useStateValue();\n\n    const addToBasket = () => {\n        dispatch({\n            type: 'ADD_TO_BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            }\n        })\n    }\n\n    return (\n        <div className='product'>\n            <div className=\"product__info\">\n                <p>{title}</p>\n                <p className=\"product__price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"product__rating\">\n                    {Array(rating)\n                        .fill()\n                        .map((_, i) => (\n                            <p className='StarRateIcon'>\n                                <StarRateIcon />\n                            </p>\n                        ))}\n                </div>\n            </div>\n            <img src={image} alt=\"\" />\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\n\nexport default Product\n","import React from 'react'\nimport \"./Home.scss\";\nimport Product from './Product';\n\nfunction Home() {\n    return (\n        <div className=\"home\">\n            <div className=\"home__container\">\n                <img className=\"home__image\"\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Sports_en_US_1x._CB431860448_.jpg\"\n                    alt=\"\" />\n            </div>\n            <div className=\"home__row\">\n                <Product\n                    id={123457665736}\n                    title='BENGOO G9000 Stereo Gaming Headset for PS4, PC, Xbox'\n                    price={35}\n                    rating={5}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/61NZPCYSeVL._AC_SL1301_.jpg\"\n                />\n                <Product\n                    id={45642565436}\n                    title='PICTEK Gaming Mouse Wired '\n                    price={15}\n                    rating={4}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/61gxUsLtlyL._AC_SL1280_.jpg\"\n                />\n            </div>\n            <div className=\"home__row\">\n                <Product\n                    id={78924797876}\n                    title='Apple iPhone XR, 64GB, Black - Fully Unlocked (Renewed)'\n                    price={429.99}\n                    rating={6}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/51WMia%2BvWYL._AC_SL1024_.jpg\"\n                />\n                <Product\n                    id={1011124343657}\n                    title='PlayStation 4 Pro 1TB Console'\n                    price={399}\n                    rating={4}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/41GGPRqTZtL._AC_.jpg\"\n                />\n                <Product\n                    id={131415678969}\n                    title='Nintendo Switch 32GB Console Video Games w/ 32GB Memory Card'\n                    price={448}\n                    rating={3}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/61445UADu9L._AC_SL1000_.jpg\"\n                />\n            </div>\n            <div className=\"home__row\">\n                <Product\n                    id={16171897896}\n                    title='Open Box Like New Sony 85 Bravia 4K HDR Professional Display'\n                    price={3723}\n                    rating={7}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/71pjowGAs8L._AC_SL1000_.jpg\"\n\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React from 'react'\nimport './CheckoutProduct.scss'\nimport StarRateIcon from '@material-ui/icons/StarRate';\nimport { useStateValue } from '../StateProvider';\n\nfunction CheckoutProduct({ id, image, title, price, rating }) {\n    const [{ basket }, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        //remove the item from the basket\n        dispatch({\n            type: 'REMOVE_FROM_BASKET',\n            id: id,\n        })\n    }\n\n    return (\n        <div className='checkoutProduct'>\n            <img className='checkoutProduct__image' src={image} alt=''\n            />\n            <div className='checkoutProduct__info'>\n                <p className='checkoutProduct__title'>{title}</p>\n                <p className='checkoutProduct__price'>\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className='checkoutProduct__rating'>\n                    {Array(rating)\n                        .fill()\n                        .map((_, i) => (\n                            <p className='StarRateIcon'>\n                                <StarRateIcon />\n                            </p>\n                        ))}\n                </div>\n                <button onClick={removeFromBasket} className='checkoutProduct__button'>Remove from basket</button>\n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","export const initialState = {\n    basket: [],\n    user: null\n}\n//Selector\nexport const getBasketTotal = (basket) =>\n    basket?.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_TO_BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n\n        case 'EMPTY_BASKET':\n            return {\n                ...state,\n                basket: []\n            }\n        \n        case 'REMOVE_FROM_BASKET':\n            const index = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id\n            );\n            let newBasket = [...state.basket];\n            if (index >= 0) {\n                newBasket.splice(index, 1);\n            } else {\n                console.warn(`Cant remove product (id: ${action.id}, ) as its not in the basket`);\n            }\n\n            return {\n\n                ...state,\n                basket: newBasket\n            };\n\n            case \"SET_USER\":\n                return {\n                    ...state,\n                    user: action.user\n                }\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import React from 'react'\nimport \"./Subtotal.scss\"\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from '../StateProvider';\nimport { getBasketTotal } from '../reducer';\nimport { useHistory } from 'react-router';\n\nfunction Subtotal() {\n    const history = useHistory();\n    const [{ basket }, dispatch] = useStateValue();\n    return (\n        <div className=\"subtotal\">\n            <CurrencyFormat\n                renderText={(value) => (\n                    <>\n                        <p>\n                            Subtotal({basket.length} items):\n                            <strong>{value}</strong>\n                        </p>\n                        <small className=\"subtotal__gift\">\n                            <input type=\"checkbox\" />This order\n                            contains a gift\n                        </small>\n                    </>\n                )}\n                decimalScale={2}\n                value={getBasketTotal(basket)}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />\n            <button onClick={e => history.push('/payment')}>Proceed to Chekout</button>\n        </div>\n\n    )\n}\n\nexport default Subtotal\n","import { isTaggedTemplateExpression } from '@babel/types';\nimport React from 'react'\nimport { useStateValue } from '../StateProvider';\nimport './Checkout.scss';\nimport CheckoutProduct from './CheckoutProduct';\nimport Subtotal from './Subtotal';\n\nfunction Checkout() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout__left\">\n                <img src=\"https://netrockdeals.sirv.com/Amazon-Prime-banner1.jpg\" alt=\"\" className=\"checkout__ad\" />\n                <div>\n                    <h3>Hello, {user?.email}</h3>\n                    <h2 className=\"checkout__title\">Your shopping Basket</h2>\n                    {basket.map(item => (\n                        <CheckoutProduct\n                            id={item.id}\n                            title={item.title}\n                            image={item.image}\n                            price={item.price}\n                            rating={item.rating}\n                        />\n                    ))}\n\n                </div>\n            </div>\n            <div className=\"checkoout__right\">\n                <Subtotal />\n            </div>\n        </div>\n    )\n}\n\nexport default Checkout\n","import React, { useState } from 'react'\nimport './Login.scss';\nimport logo from '../amazon-logo.png'\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth } from '../firebase';\n\nfunction Login() {\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const signIn = e => {\n        e.preventDefault();\n\n        // some fancy firebase login Shit!!!\n        auth\n            .signInWithEmailAndPassword(email, password)\n            .then(auth => {\n                history.push('/')\n            })\n            .catch(error => alert(error.message))\n    }\n\n    const register = e => {\n        e.preventDefault();\n\n        // some fancy firebase register Shit!!!\n        auth\n            .createUserWithEmailAndPassword(email, password)\n            .then((auth) => {\n                // it succesfully created a new user with email and password\n                if (auth) {\n                    history.push('/')\n                }\n            })\n            .catch(error => alert(error.message))\n    }\n\n    return (\n        <div className=\"login\">\n            <Link to='/'>\n                <img className='login__logo' src={logo} alt=\"\" />\n            </ Link>\n            <div className=\"login__container\">\n                <h1>Sign in</h1>\n                <form>\n                    <h5>E-mail</h5>\n                    <input type='text' value={email}\n                        onChange={e => setEmail(e.target.value)} />\n\n                    <h5>Password</h5>\n                    <input type='password' value={password}\n                        onChange={e => setPassword(e.target.value)} />\n\n                    <button type='submit' onClick={signIn}\n                        className='login__signInButton'>Sign In</button>\n                </form>\n                <p>\n                    By signin-in you agree to Amazon's FAKE CLONE\n                    Conditions of Use & Sale, Please\n                    see our Privacy Notice, our Cookies Notice\n                    and our Interest-Based Ads Notice.\n                </p>\n                <button onClick={register} className='login__registerButton'>Create Your Amazon Account</button>\n            </div>\n        </div >\n    )\n}\n\nexport default Login\n","import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:5001/amazing-react-app/us-central1/api' // THE API (cloud function) URL\n});\n\nexport default instance;","import React, { useState, useEffect } from 'react';\nimport './Payment.scss';\nimport { useStateValue } from \"../StateProvider\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../reducer\";\nimport axios from './axios';\nimport { db } from \"../firebase\";\n\nfunction Payment() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(\"\");\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [clientSecret, setClientSecret] = useState(true);\n\n    useEffect(() => {\n        // generate the special stripe secret which allows us to charge a customer\n        const getClientSecret = async () => {\n            const response = await axios({\n                method: 'post',\n                // Stripe expects the total in a currencies subunits\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n\n        getClientSecret();\n    }, [basket])\n\n    console.log('THE SECRET IS >>>', clientSecret)\n    console.log('ðŸ‘±', user)\n\n    const handleSubmit = async (event) => {\n        // do all the fancy stripe stuff...\n        event.preventDefault();\n        setProcessing(true);\n\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n\n        }).then(({ paymentIntent }) => {\n            // paymentIntent = payment confirmation\n\n            db\n                .collection('users')\n                .doc(user?.uid)\n                .collection('orders')\n                .doc(paymentIntent.id)\n                .set({\n                    basket: basket,\n                    amount: paymentIntent.amount,\n                    created: paymentIntent.created\n                });\n\n            setSucceeded(true);\n            setError(null)\n            setProcessing(false)\n\n            dispatch({\n                type: 'EMPTY_BASKET'\n            })\n\n            history.replace('/orders')\n        })\n\n    }\n\n    const handleChange = event => {\n        // Listen for changes in the CardElement\n        // and display any errors as the customer types their card details\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    }\n\n    return (\n        <div className='payment'>\n            <div className='payment__container'>\n                <h1>\n                    Checkout (\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\n                        )\n                </h1>\n\n\n                {/* Payment section - delivery address */}\n                <div className='payment__section'>\n                    <div className='payment__title'>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className='payment__address'>\n                        <p>{user?.email}</p>\n                        <p>123 React Lane</p>\n                        <p>Los Angeles, CA</p>\n                    </div>\n                </div>\n\n                {/* Payment section - Review Items */}\n                <div className='payment__section'>\n                    <div className='payment__title'>\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className='payment__items'>\n                        {basket.map(item => (\n                            <CheckoutProduct\n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n                </div>\n\n\n                {/* Payment section - Payment method */}\n                <div className='payment__section'>\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        {/* Stripe magic will go */}\n\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange} />\n\n                            <div className='payment__priceContainer'>\n                                <CurrencyFormat\n                                    renderText={(value) => (\n                                        <h3>Order Total: {value}</h3>\n                                    )}\n                                    decimalScale={2}\n                                    value={getBasketTotal(basket)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    prefix={\"$\"}\n                                />\n                                <button disabled={processing || disabled || succeeded}>\n                                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                                </button>\n                            </div>\n\n                            {/* Errors */}\n                            {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment","import React, { useState, useEffect } from 'react'\nimport { db } from \"../firebase\";\nimport { useStateValue } from '../StateProvider';\nimport \"./Orders.scss\";\n\nfunction Orders() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        db\n            .collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => (\n                setOrders(snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            ))\n\n\n    }, [])\n    return (\n        <div className=\"orders\">\n            <h1>Your Orders</h1>\n        </div>\n    )\n}\n\nexport default Orders\n","import React, { useEffect } from 'react';\nimport './App.scss';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from './StateProvider';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n//Components\nimport Header from './Components/Header';\nimport Home from './Components/Home';\nimport Checkout from './Components/Checkout';\nimport Login from './Components/Login';\nimport Payment from './Components/Payment';\nimport Orders from './Components/Orders';\n\nconst promise = loadStripe('pk_test_51HdCsBBT5znSTD8wn2kkOT3N0rZl6fgrZIvuLL8aSGpWf7F3VCY2MBQDvmlc1QÅ¼Å¼R2HOZcAkB1w1GQKK26TWF1o4MP00KQ8nCanl');\n\nfunction App() {\n  const [{ }, dispatch] = useStateValue();\n\n\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n      console.log('The user is >>>', authUser);\n      if (authUser) {\n        // the user just logged in / the user was logged in\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        // the user is logged out\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n  }, [])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n\n          </Route>\n\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducer, { initialState } from './reducer';\nimport { StateProvider } from './StateProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/amazon-logo.46527352.png\";"],"sourceRoot":""}